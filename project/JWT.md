# JWT (JSON Web Token)
JWT는 사용자의 인증 정보를 서버에 세션으로 저장하지 않고, 클라이언트가 가진 토큰을 통해 인증을 수행하는 방식이다. 토큰에는 사용자 식별 정보가 암호화되어 있으며, 서버는 토큰을 검증함으로써 사용자를 확인한다.
*JWT 는 오직이 사용자가 진짜인가를 증명하는 역할*

## JWT의 구조
JWT는 Header, Payload, Signature 세 부분으로 구성된다.
Header : 이 토큰이 어떤 형식과 알고리즘으로 만들어 졌는지를 설명하는 데이터
Payload : 사용자 정보가 포함된 인코딩(Base64)된 데이터
Signature : 비밀키를 이용해 생성되는 위조 여부를 검증

## Access Token / Refresh Token
JWT는 한 번 발급된 토큰을 서버에서 강제로 무효화 시키기 어려워, 탈취 시 피해가 클 수 있다.
이를 보완하기 위해 일반적으로 두 개의 토큰을 함께 사용한다.
- Access Token : 유효기간이 짧고, 요청 시 사용자 인증에 직접 사용된다.
- Refresh Token : 유효기간이 길고, Access Token이 만료되었을 때 새 토큰을 재발급 받는 데 사용된다.

## Refresh Token 무효화
사실 JWT 자체를 직접 무효화하는 건 불가능   
**서버가 해당 토큰을 인정하지 않도록 하는 방법**이다.

- DB/Redis에 Refresh Token을 저장하고 비교   
로그인 시 서버가 Refresh Token을 DB에 저장   
로그아웃 시 DB에서 해당 토큰을 삭제   
이후 토큰 재발급 요청이 들어오면, DB 확인 후 없는 토큰일 시 무효처리

- Blacklist 테이블 운영
서버가 "이미 만료되기 전에 취소된 토큰 목록"을 따로 관리   
요청 시 토큰이 이 블랙리스트에 있으면 거부   


